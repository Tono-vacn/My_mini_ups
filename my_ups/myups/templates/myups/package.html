{% extends 'myups/base.html' %}

{% load static %}

{% block title %}
    Your packages
{% endblock %}

{% block body %}
<link rel="stylesheet" type="text/css" href="{% static 'myups/tb.css' %}">
<div class="container-fluid">
    {% if packages %}
    <h1 class="center-text">Your package's detail</h1>
    <div class="center-text">
        <a href="{% url 'load_pkg'%}">
            <button class="btn btn-success"><span class="glyphicon glyphicon-th-list"></span>&nbsp; Loaded</button>
        </a>
        <a href="{% url 'pkup_pkg'%}">
            <button class="btn btn-success"><span class="glyphicon glyphicon-th-list"></span>&nbsp; Wait for Pickup</button>
        </a>
        <a href="{% url 'deliver_pkg'%}">
            <button class="btn btn-success"><span class="glyphicon glyphicon-th-list"></span>&nbsp; Out for Delivery</button>
        </a>
        <a href="{% url 'delivered_pkg'%}">
            <button class="btn btn-success"><span class="glyphicon glyphicon-th-list"></span>&nbsp; Arrived</button>
        </a>
    </div>

    {% if messages %}
    {% for message in messages %}
        <center><p{% if message.tags %} class="message {{ message.tags }}" {% endif %} style="padding: 10px">{{ message }}</p></center>
    {% endfor %}
    {% endif %}

    <table>
        <thead>
            <tr>
                <th>Package ID</th>
                <th>Package Description</th>
                <th>Item Quantity</th>
                <th>Warehouse ID</th>
                <th>Warehouse Spot</th>
                <th>Destination</th>
                <th>Package Status</th>
                <th>Pickup Time</th>
                <th>Load Time</th>
                <th>Deliver Time</th>
                <th>Owner</th>
                <th>Modify Destination</th>
            </tr>
        </thead>
        <tbody>
            {% for p in packages %}
            <tr>
                <td>{{ p.pkg_id }}</td>
                <td>{{ p.pkg_desc }}</td>
                <td>{{ p.quant }}</td>
                <td>{{ p.wharehouse_id }}</td>
                <td>{{ p.wharehouse_x }}, {{ p.wharehouse_y }}</td>
                <td>{{ p.dst_x }}, {{ p.dst_y }}</td>
                <td>{{ p.pkg_status }}</td>
                <td>{{ p.pkup_time }}</td>
                <td>{{ p.ld_time }}</td>
                <td>{{ p.del_time }}</td>
                <td>{{ p.pkg_user.user.username }}</td>
                <td>
                    <a href="{% url 'change_dest' pkg_id=p.pkg_id %}" class="btn btn-info">Change</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="center-text">
        <h1>No Package Found!</h1>
        <!-- Repeat buttons for consistency, could be hidden if not needed -->
        <div class="center-text">
            <a href="{% url 'load_pkg'%}">
                <button class="btn btn-success"><span class="glyphicon glyphicon-th-list"></span>&nbsp; Loaded</button>
            </a>
            <a href="{% url 'pkup_pkg'%}">
                <button class="btn btn-success"><span the "glyphicon glyphicon-th-list"></span>&nbsp; Wait for Pickup</button>
            </a>
            <a href="{% url 'deliver_pkg'%}">
                <button class="btn btn-success"><span class="glyphicon glyphicon-th-list"></span>&nbsp; Out for Delivery</button>
            </a>
            <a href="{% url 'delivered_pkg'%}">
                <button class="btn btn-success"><span class="glyphicon glyphicon-th-list"></span>&nbsp; Arrived</button>
            </a>
        </div>

        {% if messages %}
        {% for message in messages %}
            <center><p{% if message.tags %} class="message {{ message.tags }}" {% endif %} style="padding: 10px">{{ message }}</p></center>
        {% endfor %}
        {% endif %}

    </div>
    {% endif %}
</div>
{% endblock %}



{% comment %} {% extends 'myups/base.html' %}

{% load static %}

{% block title %}
    Your packages
{% endblock %}

{% block body %}
    
    {% if packages %}
    <h1 align = "center">
      Your package's detail</h1>
        {% if user.is_authenticated  %}
    <a href="{% url 'load_pkg'%}">
        <button  class="btn btn-success" name = "loaded" value="loaded"><span class="glyphicon glyphicon-th-list"></span>&nbsp; loaded</button>
    </a>
    <a href="{% url 'pkup_pkg'%}">
    <button  class="btn btn-success" name = "pickup" value="pickup"><span class="glyphicon glyphicon-th-list"></span>&nbsp; wait for pickup</button>
    </a>
    <a href="{% url 'deliver_pkg'%}">
    <button  class="btn btn-success" name = "deliver" value="deliver"><span class="glyphicon glyphicon-th-list"></span>&nbsp; out for delivery</button>
    </a>
    <a href="{% url 'delivered_pkg'%}">
    <button  class="btn btn-success" name = "delivered" value="delivered"><span class="glyphicon glyphicon-th-list"></span>&nbsp; arrived</button>
    </a>
    {% endif %}
    {% if messages %}
        {% for message in messages %}
            <center><p{% if message.tags %} class="{{ message.tags }}" {% endif %} style="padding: 10px">{{ message }}</p></center>
        {% endfor %}
    {% endif %}
    <table border="3" width="1300px" height="80px" cellpadding="20px" cellspacing="100px" align = "center" style = "background-color: aliceblue">
        
        <thead>
        <tr>
            <th><center><font size="2" color="white">package id</font></center></th>
            <th><center><font size="2" color="white">warehouse id</font></center></th>
            <th><center><font size="2" color="white">warehose spot</font></center></th>
            <th><center><font size="2" color="white">destination</font></center></th>
            <th><center><font size="2" color="white">package status</font></center></th>
            <th><center><font size="2" color="white">pickup time</font></center></th>
            <th><center><font size="2" color="white">load time</font></center></th>
            <th><center><font size="2" color="white">deliver time</font></center></th>
            <th><center><font size="2" color="white">owner</font></center></th>
            <th><center><font size="2" color="white">modify destination</font></center></th>
        </tr>
        </thead>
        <tbody>
        {% for p in packages %}
            <tr>
                <th><center>{{ p.pkg_id }}</center></th>
                <th><center>{{ p.wharehouse_id }}</center></th>
                <th><center>{{ p.wharehouse_x}} , {{p.wharehouse_y }}</center></th>
                <th><center>{{ p.dst_x }} , {{p.dst_y }}</center></th>
                <th><center>{{ p.pkg_status }}</center></th>
                <th><center>{{ p.pkup_time }}</center></th>
                <th><center>{{ p.ld_time }}</center></th>
                <th><center>{{ p.del_time }}</center></th>
                <th><center>{{ p.pkg_user.user.username }}</center></th>
                <th>
                    <center>
                    <a href="{% url 'change_dest' pkg_id=p.pkg_id %}">Change Destination</a>
                    </center>
                     </th>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    </form>
    {% else %}
    {% if messages %}
        {% for message in messages %}
            <center><p{% if message.tags %} class="{{ message.tags }}" {% endif %} style="padding: 10px">{{ message }}</p></center>
        {% endfor %}
    {% endif %}
    <center><h1>No Package Founded!</h1></center>
    {% if user.is_authenticated  %}
    <a href="{% url 'load_pkg'%}">
        <button  class="btn btn-success" name = "loaded" value="loaded"><span class="glyphicon glyphicon-th-list"></span>&nbsp; loaded</button>
    </a>
    <a href="{% url 'pkup_pkg'%}">
    <button  class="btn btn-success" name = "pickup" value="pickup"><span class="glyphicon glyphicon-th-list"></span>&nbsp; wait for pickup</button>
    </a>
    <a href="{% url 'deliver_pkg'%}">
    <button  class="btn btn-success" name = "deliver" value="deliver"><span class="glyphicon glyphicon-th-list"></span>&nbsp; out for delivery</button>
    </a>
    <a href="{% url 'delivered_pkg'%}">
    <button  class="btn btn-success" name = "delivered" value="delivered"><span class="glyphicon glyphicon-th-list"></span>&nbsp; arrived</button>
    </a>
    {% endif %}
    {% endif %}
    

{% endblock %} {% endcomment %}